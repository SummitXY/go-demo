<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Love Moon</title>
</head>
<body>
    <div><button onclick="ajaxBackDate('xiyouji','1','showContent')">第一回:灵根育孕源流出,心性修持大道生</button></div>
    <div><button onclick="ajaxBackDate('xiyouji','2','showContent')">第二回:悟彻菩提真妙理,断魔归本合元神</button></div>
    <div><button onclick="ajaxBackDate('xiyouji','3','showContent')">第三回:四海千山皆拱伏,九幽十类尽除名</button></div>
    ...
    <div><button onclick="ajaxBackDate('xiyouji','81','showContent')">第八十一回:镇海寺心猿知怪,黑松林三众寻师</button></div>

    <button onclick="ajaxBackDate('xiyouji','999','showContent')">不存在的章节</button>

    <div id="showContent" style="background-color: darkseagreen">等待选择章回</div>

    <script type="text/javascript">
        //ajax取得数据
        function ajaxBackDate(k1, k2, showValue) {
            //发送异步请求

            //1.创建ajax引擎对象----所有操作都是由ajax引擎完成
            var xmlHttp = new XMLHttpRequest();

            //2.为引擎对象绑定监听事件
            xmlHttp.onreadystatechange = function () {

                //当状态变化时处理的事情

                if (xmlHttp.readyState == 4 && xmlHttp.status == 200) {

                    //5.接收响应信息

                    // var data = xmlHttp.responseText;
                    var data = xmlHttp.response;
                    // alert(data);
                    // return data;
                    var tempShow = document.getElementById(showValue);
                    tempShow.innerText = data;
                }

            };

            //3.绑定服务器地址

            //第一个参数：请求方式GET/POST
            //第二个参数：后台服务器地址
            //第三个参数：是否是异步 true--异步   false--同步
            xmlHttp.open("POST", "/getContent", true);

            //4.发送合适的请求头部信息
            // xmlHttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");


            //5.发送请求
            var param = "{\"K1\":\"" + k1 + "\",\"K2\":\"" + k2 + "\"}";
            xmlHttp.send(param);
        }

    </script>
</body>



</html>